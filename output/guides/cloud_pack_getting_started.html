<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<title>Documentation | Puppet Labs - Getting Started With CloudPack</title>
  	<meta name="description" content="The open source leader in data center automation">
  	<link rel="alternate" type="text/xml" title="Puppet Labs RSS 0.92 Feed" href="http://puppetlabs.com/feed/rss/">
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Atom Feed" href="http://puppetlabs.com/feed/atom/">
  	<link rel="alternate" type="application/rss+xml" title="Puppet Labs RSS 2.0 Feed" href="http://puppetlabs.com/feed/">
  	<link rel="pingback" href="http://puppetlabs.com/xmlrpc.php">
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://puppetlabs.com/xmlrpc.php?rsd" />
    <link rel='index' title='Puppet Labs' href='http://docs.puppetlabs.com' />

<!-- Google stats -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-1537572-5");
pageTracker._setDomainName(".puppetlabs.com");
pageTracker._trackPageview();
} catch(err) {}</script>
<!-- End Google stats -->


    <!-- FIXME: absolute paths -->

    <script type='text/javascript' src='/files/javascripts/html5.js'></script>
    <script type='text/javascript' src='/files/javascripts/jquery-1.3.2.min.js'></script>
    <script type='text/javascript' src='/files/javascripts/drop_down.js'></script>
    <script type='text/javascript' src='/files/javascripts/cufon-yui.js'></script>
    <script type='text/javascript' src='/files/fonts/Klavika_400-Klavika_600.font.js'></script>
    <script type='text/javascript' src='/files/javascripts/ampersands.js'></script>

     <!--Add rotation jQuery Script -->
	 	
    <script type='text/javascript' src='/files/javascripts/addRotate.js'></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <link rel="canonical" href="http://docs.puppetlabs.com" />
    <!-- /all in one seo pack -->
	
    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="/files/stylesheets/style.css" media="screen"> 
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/syntax.css" media="screen"> <!-- index -->
    <link rel="stylesheet" type="text/css" href="/files/stylesheets/adbanner.css" media="screen">

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <![endif]-->
  
    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <![endif]-->		

  	<script type="text/javascript">
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	</script>
</head>



        
  <body id="resources" class="docs">
  <style type="text/css">h1, h2{ visibility : hidden }</style>		
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->		

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/puppet/">
              <span>Products</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>            
              <li>
                <ul>
<li class="page_item page-item-769"><a href="http://www.puppetlabs.com/puppet/puppet-enterprise/" title="Puppet Enterprise">Puppet Enterprise</a></li>
<li class="page_item page-item-757"><a href="http://www.puppetlabs.com/puppet/introduction/" title="Puppet">Puppet</a></li>
<li class="page_item page-item-956"><a href="http://www.puppetlabs.com/puppet/how-to-buy/" title="How to Buy">How to Buy</a></li>
<li class="page_item page-item-1159"><a href="http://forge.puppetlabs.com/" title="Module Forge">Module Forge</a></li>

<li class="page_item page-item-2415"><a href="http://www.puppetlabs.com/mcollective/introduction/" title="MCollective">MCollective</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>

            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://www.puppetlabs.com/services/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-839"><a href="http://www.puppetlabs.com/services/support/" title="Enterprise Support">Enterprise Support</a></li>
<li class="page_item page-item-845"><a href="http://www.puppetlabs.com/services/training-workshops/" title="On-Site Training &amp; Consulting">On-Site Training &amp; Consulting</a></li>
<li class="page_item page-item-849"><a href="/category/events/upcoming/" title="Events &amp; Public Training">Events &amp; Public Training</a></li>
<li class="page_item page-item-851"><a href="http://www.puppetlabs.com/services/partners/" title="Partners">Partners</a></li>
<li class="page_item page-item-1037"><a href="/resources/customer-support" title="Customer Support">Customer Support</a></li>
            </ul>
          </li>
          <li id="resources-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/resources/">
              <span>Resources</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/resources/overview-2/" title="Overview">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/resources/customer-support/" title="Customer Support">Customer Support</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com" title="Documentation">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download" title="Downloads">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com" title="Module Forge">Module Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/request-whitepapers.html" title="White Papers">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki" title="Wiki">Wiki</a></li>
            </ul>

          </li>

<li id="customer-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/customers/companies/">
              <span>Customers</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/customers/companies/" title="Overview">Companies</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/customers/case-studies/" title="Case Studies">Case Studies</a></li>
<li class="page_item page-item-1040"><a href="http://www.puppetlabs.com/customers/product-testimonials/" title="Product Testimonials">Product Testimonials</a></li>
<li class="page_item page-item-872"><a href="http://www.puppetlabs.com/customers/what-customers-are-saying/" title="ervice Testimonials">Service Testimonials</a></li>
	</ul>
          </li>
         <li id="community-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/community/">
              <span>Community</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/community/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/blog" title="Blog">Blog</a></li>
<li class="page_item page-item-2264"><a href="http://www.puppetlabs.com/community/puppet-camp/" title="Puppet Camp">Puppet Camp</a></li>
<li class="page_item page-item-2249"><a href="http://www.puppetlabs.com/community/user-groups-and-devops-groups/" title="User Groups &amp; DevOps Groups">User Groups &amp; DevOps Groups</a></li>
<li class="page_item page-item-2215"><a href="http://www.puppetlabs.com/community/presentations/" title="Presentations">Presentations</a></li>

<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/videos/" title="Videos">Videos</a></li>
<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/badges/" title="Badges">Badges</a></li>
            </ul>
          </li>

          <li id="company-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>

            <ul>
              <li class="page_item page-item-2316"><a href="http://www.puppetlabs.com/company/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://www.puppetlabs.com/company/news/" title="News">News</a></li>
<li class="page_item page-item-1571"><a href="http://www.puppetlabs.com/company/jobs/" title="Jobs">Jobs</a></li>
<li class="page_item page-item-2313"><a href="http://www.puppetlabs.com/company/contact-us/" title="Contact Us">Contact Us</a></li>
            </ul>
          </li>
    		</ul>	   
          <div id="misc-navigation">

			  <ul>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
				<li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/#contact">Contact Us</a></li>
				<li><a href="http://puppetlabs.com/resources/downloads" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">

			  <div>
				<input type="hidden" name="cx" value="017884045025332504017:1mnj-dlgfcc" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>

          </div>
      </nav>
    	</div>
    </header>  

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">Getting Started With CloudPack</span></h1>
          <ul id="doc-navigation">
            <li><a href="/">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
	            <dl>
	              <dt>Puppet Guides</dt>
                      <dd><a href="/index.html">Index</a></dd>
                  <dt>Puppet References</dt>
                      <dd><a href="/references/stable/type.html">Resource Types</a></dd>
                      <dd><a href="/references/stable/function.html">Functions</a></dd>
                      <dd><a href="/references/stable/metaparameter.html">Metaparameters</a></dd>
                      <dd><a href="/references/stable/configuration.html">Configuration</a></dd>
                      <dt>References By Version</dt>
                      <dd><a href="/references/2.7.0/">2.7.0</a></dd>
                      <dd><a href="/references/2.6.8/">2.6.8</a></dd>
                      <dd><a href="/references/0.25.5/">0.25.5</a></dd>
                      <dd><a href="/references/0.24.8/">0.24.8</a></dd>
                      <dd><a href="/references/">Other Versions</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="/mcollective/index.html">Index</a></dd>
                      <dd><a href="/mcollective/simplerpc/index.html">SimpleRPC</a></dd>
                      <dd><a href="/mcollective/roadmap/index.html">Roadmap</a></dd>
                      <dd><a href="/mcollective/releasenotes.html">Release Notes</a></dd>
                      <dd><a href="/mcollective/reference/index.html">References</a></dd>
	            </dl>
            </li>
            <li><a href="/contribute.html">Contribute</a></li>
          </ul>
        </div>
      </section>
    
      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              
<h1 id="getting-started-with-puppet-cloudpack">Getting Started With Puppet CloudPack</h1>

<p>Learn how to install and start using CloudPack, Puppet&rsquo;s preview Faces extension for node bootstrapping.</p>

<hr />

<h2 id="overview">Overview</h2>

<p>Puppet CloudPack is a Puppet extension that adds new actions for creating and puppetizing new machines, especially Amazon AWS EC2 instances. </p>

<p>CloudPack gives you an easy command line interface to the following tasks:</p>

<ul>
  <li>Create a new Amazon EC2 instance</li>
  <li>Install Puppet Enterprise on a remote machine of your choice</li>
  <li>Add a new puppet agent node to a Puppet Dashboard node group</li>
  <li>Do all of the above (plus sign the new node&rsquo;s certificate) with a single <code>puppet node bootstrap</code> invocation</li>
</ul>

<h2 id="installing">Installing</h2>

<p>To install Puppet CloudPack, simply clone <a href="https://github.com/puppetlabs/puppet-cloudpack">the repository</a> on your control node and add its lib directory to your <code>$RUBYLIB</code> or Ruby load path. </p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Puppet CloudPack has several requirements beyond those of Puppet. </p>

<h3 id="software">Software</h3>

<p>CloudPack can only be used with <strong>Puppet 2.7 or greater.</strong> Classification of new nodes requires Puppet Dashboard 1.1.2 (unreleased at the time of this writing) or greater.</p>

<p>CloudPack also requires <a href="http://fog.io/">Fog</a>, a Ruby cloud services library. You&rsquo;ll need to <strong>ensure that Fog is installed</strong> on the machine running CloudPack:</p>

<pre><code># gem install fog
</code></pre>

<p>Depending on your operating system and Ruby environment, you may need to manually install some of Fog&rsquo;s dependencies. </p>

<p>If you wish to use CloudPack to install Puppet on new nodes, you&rsquo;ll also need <strong>a copy of the <a href="http://info.puppetlabs.com/download">Puppet Enterprise</a> universal tarball.</strong> As of this writing, the distro-specific tarballs are not supported.</p>

<p>The machine running the CloudPack faces will need a working <code>/usr/bin/uuidgen</code> binary.</p>

<h3 id="services">Services</h3>

<p>Currently, Amazon EC2 is the only supported cloud platform for creating new machine instances; you&rsquo;ll need a pre-existing <strong>Amazon EC2 account</strong> to use this feature. </p>

<h2 id="configuration">Configuration</h2>

<h3 id="fog">Fog</h3>

<p>For CloudPack to work, Fog needs to be configured with your AWS access key ID and secret access key. Create a <code>~/.fog</code> file as follows: </p>

<pre><code>:default:
  :aws_access_key_id:     XXXXXXXXXXXXXXXXXXXXX
  :aws_secret_access_key: Xx+xxXX+XxxXXXXXXxxXxxXXXXxxxXXxXXxxxxXX
</code></pre>

<p>To test whether Fog is working, execute the following command:</p>

<pre><code>$ ruby -rubygems -e 'require "fog"' -e 'puts Fog::Compute.new(:provider =&gt; "AWS").servers.length &gt; 0'
</code></pre>

<p>This should return &ldquo;true.&rdquo;</p>

<h3 id="ec2">EC2</h3>

<p>Your EC2 account will need to have at least one <strong>32-bit AMI of a supported Puppet Enterprise OS,</strong><sup id="fnref:platforms"><a href="#fn:platforms" rel="footnote">1</a></sup> at least one Amazon-managed <strong>SSH keypair,</strong> and a security group that <strong>allows outbound traffic on port 8140 and SSH traffic from the machine running the CloudPack actions.</strong> As of this writing, all of these resources <strong>must be in the <code>us-east-1</code> region;</strong> this will change in a later release of the CloudPack. We also hope to support 64-bit AMIs at a later date.</p>

<p>Your puppet master server will also have to be reachable from your newly created instances.</p>

<h3 id="provisioning">Provisioning</h3>

<p>In order to use the <code>install</code> action, any newly provisioned instances will need to have their root user enabled, or will need a user account configured to <code>sudo</code> as root without a password.</p>

<h3 id="puppet-master">puppet master</h3>

<p>If you want to automatically sign certificates with the CloudPack, you&rsquo;ll have to allow the computer running the CloudPack actions to access the puppet master&rsquo;s <code>certificate_status</code> REST endpoint. This can be configured in the master&rsquo;s <a href="http://docs.puppetlabs.com/guides/rest_auth_conf.html">auth.conf</a> file:</p>

<pre><code>path /certificate_status
method save
auth yes
allow {certname}
</code></pre>

<p>If you&rsquo;re running the CloudPack actions on a machine other than your puppet master, you&rsquo;ll have to ensure it can communicate with the puppet master over port 8140 and your Puppet Dashboard server over port 3000. </p>

<h3 id="certificates-and-keys">Certificates and Keys</h3>

<p>You&rsquo;ll also have to make sure the control node has a certificate signed by the puppet master&rsquo;s CA. If the control node is already known to the puppet master (e.g. it is or was a puppet agent node), you&rsquo;ll be able to use the existing certificate, but we recommend generating a per-user certificate for a more explicit and readable security policy. On the control node, run:</p>

<pre><code>puppet certificate generate {certname} --ca-location remote
</code></pre>

<p>Then sign the certificate as usual on the master (<code>puppet cert sign {certname}</code>). On the control node again, run:</p>

<pre><code>puppet certificate find ca --ca-location remote
puppet certificate find {certname} --ca-location remote
</code></pre>

<p>This should let you operate under the new certname when you run puppet commands with the &ndash;certname {certname} option. </p>

<p>The control node will also need a private key to allow SSH access to the new machine; for EC2 nodes, this is the private key from the keypair used to create the instance. If you are working with non-EC2 nodes, please note that the <code>install</code> action does not currently support keys with passphrases.</p>

<h3 id="installer-configuration">Installer Configuration</h3>

<p>To install Puppet Enterprise on a node, you&rsquo;ll need a complete answers file to be read by the installer. See the PE documentation for more details. Note that the certname from the answers file is ignored, and the new instance will be given a UUID as its certname. </p>

<h2 id="usage">Usage</h2>

<p>Puppet CloudPack provides five new actions on the <code>node</code> face: </p>

<ul>
  <li><code>create</code>: Creates a new EC2 machine instance.</li>
  <li><code>install</code>: Install&rsquo;s Puppet Enterprise on an arbitrary machine, including non-cloud hardware.</li>
  <li><code>classify</code>: Add a new node to a Puppet Dashboard node group.</li>
  <li><code>init</code>: Perform the <code>install</code> and <code>classify</code> actions, and automatically sign the new agent node&rsquo;s certificate. </li>
  <li><code>bootstrap</code>: Create a new EC2 machine instance and perform the <code>init</code> action on it.</li>
  <li><code>terminate</code>: Tear down an EC2 machine instance.</li>
</ul>

<h3 id="puppet-node-create">puppet node create</h3>

<p>Argument(s): none.</p>

<p>Options: </p>

<ul>
  <li><code>--image, -i</code> &mdash; The name of the AMI to use when creating the instance. <strong>Required.</strong></li>
  <li><code>--keypair</code> &mdash; The Amazon-managed SSH keypair to use for accessing the instance. <strong>Required.</strong></li>
  <li><code>--group, -g, --security-group</code> &mdash; The security group(s) to apply to the instance. Can be a single group or a path-separator (colon, on *nix systems) separated list of groups. </li>
</ul>

<p>Example:</p>

<pre><code>$ puppet node create --image ami-XxXXxXXX --keypair puppetlabs.admin
</code></pre>

<p>Creates a new EC2 machine instance, prints its SSH host key fingerprints, and returns its DNS name. If the process fails, Puppet will automatically clean up after itself and tear down the instance. </p>

<p>For security reasons, SSH fingerprints are obtained by observing the AWS console for the machine. This entails a noticeable wait, and the console output is sometimes not provided; if this happens, the instance will be kept alive and you will have to obtain host fingerprints through AWS. </p>

<h3 id="puppet-node-install">puppet node install</h3>

<p>Argument(s): the hostname of the system to install Puppet on.</p>

<p>Options: </p>

<ul>
  <li><code>--login, -l, --username</code> &mdash; The user to log in as. <strong>Required.</strong></li>
  <li><code>--keyfile</code> &mdash; The SSH private key file to use. This key cannot require a passphrase. <strong>Required.</strong></li>
  <li><code>--installer-payload, --puppet</code> &mdash; The location of the <a href="http://info.puppetlabs.com/download">Puppet Enterprise</a> universal tarball. <strong>Required.</strong></li>
  <li><code>--installer-answers</code> &mdash; The location of an answers file to use with the PE installer. <strong>Required.</strong></li>
</ul>

<p>Example: </p>

<pre><code>puppet node install ec2-XXX-XXX-XXX-XX.compute-1.amazonaws.com \
--login root --keyfile ~/.ssh/puppetlabs-ec2_rsa \
--installer-payload ~/puppet-enterprise-1.0-all.tar.gz \
--installer-answers ~/pe-agent-answers
</code></pre>

<p>Install Puppet Enterprise on an arbitrary system and return the new agent node&rsquo;s certname. This action currently requires the universal PE tarball; per-distro tarballs are not supported. </p>

<p>Interactive installation is not supported, so you&rsquo;ll need an answers file. See the PE manual for complete documentation of the answers file format.</p>

<p>This action is not restricted to cloud machine instances, and will install PE on any machine accessible by SSH. </p>

<h3 id="puppet-node-classify">puppet node classify</h3>

<p>Argument(s): the certname of the agent node to classify. </p>

<p>Options: </p>

<ul>
  <li><code>--node-group, --as</code> &mdash; The Puppet Dashboard node group to use. <strong>Required.</strong></li>
  <li><code>--report_server</code> &mdash; The hostname of your Puppet Dashboard server. Required unless properly configured in puppet.conf. This is a global Puppet option.</li>
  <li><code>--report_port</code> &mdash; The port on which Puppet Dashboard is listening. Required unless properly configured in puppet.conf. This is a global Puppet option.</li>
  <li><code>--certname</code> &mdash; The certname (Subject CN) of a certificate authorized by the puppet master to remotely sign CSRs. Required unless properly configured in puppet.conf. This is a global Puppet option.</li>
</ul>

<p>Example: </p>

<pre><code>puppet node classify ec2-XXX-XXX-XXX-XX.compute-1.amazonaws.com \
--as webserver_generic --report_server dashboard.puppetlabs.lan \
--report_port 3000 --certname cloud_admin
</code></pre>

<p>Make Puppet Dashboard aware of a newly created agent node and add it to a node group, thus allowing it to receive proper configurations on its next run. This action will have no material effect unless you&rsquo;re using Puppet dashboard for node classification. </p>

<p>This action is not restricted to cloud machine instances. It can be run multiple times for a single node. </p>

<h3 id="puppet-node-init">puppet node init</h3>

<p>Argument(s): the hostname of the system to install Puppet on.</p>

<p>Options: See &ldquo;install&rdquo; and &ldquo;classify.&rdquo;</p>

<p>Example: </p>

<pre><code>puppet node init ec2-XXX-XXX-XXX-XX.compute-1.amazonaws.com \
--login root --keyfile ~/.ssh/puppetlabs-ec2_rsa \
--installer-payload ~/puppet-enterprise-1.0-all.tar.gz\
 --installer-answers ~/pe-agent-answers --as webserver_generic \
--report_server dashboard.puppetlabs.lan --report_port 3000 --certname cloud_admin
</code></pre>

<p>Install Puppet Enterprise on an arbitrary system (see &ldquo;install&rdquo;), classify it in Dashboard (see &ldquo;classify&rdquo;), and automatically sign its certificate request (using the <code>certificate</code> face&rsquo;s <code>sign</code> action). </p>

<h3 id="puppet-node-bootstrap">puppet node bootstrap</h3>

<p>Argument(s): none.</p>

<p>Options: See &ldquo;create,&rdquo; &ldquo;install,&rdquo; and &ldquo;classify.&rdquo;</p>

<p>Example: </p>

<pre><code>puppet node bootstrap --image ami-XxXXxXXX --keypair \
puppetlabs.admin --login root --keyfile ~/.ssh/puppetlabs-ec2_rsa \
--installer-payload ~/puppet-enterprise-1.0-all.tar.gz \
--installer-answers ~/pe-agent-answers --as webserver_generic \
--report_server dashboard.puppetlabs.lan --report_port 3000 \
--certname cloud_admin
</code></pre>

<p>Create a new EC2 machine instance and pass the new node&rsquo;s hostname to the <code>init</code> action.</p>

<h3 id="puppet-node-terminate">puppet node terminate</h3>

<p>Argument(s): the hostname of the machine instance to tear down.</p>

<p>Options: none.</p>

<p>Example: </p>

<pre><code>puppet node terminate init ec2-XXX-XXX-XXX-XX.compute-1.amazonaws.com
</code></pre>

<p>Tear down an EC2 machine instance. </p>
<div class="footnotes">
  <ol>
    <li id="fn:platforms">
      <p>Currently, the supported platforms for Puppet Enterprise are CentOS 5, RHEL 5, Debian 5, and Ubuntu 10.04 LTS.<a href="#fnref:platforms" rev="footnote">&#8617;</a></p>
    </li>
  </ol>
</div>

            </div>
            <div class="secondary-content">
                  <div id="subCol">
                  
                  
                      <h3 class="chapter">Contents</h3>
                      
<ol class="toc">
  <li class="toc-lv2"><a href="#overview">Overview</a></li>
  <li class="toc-lv2"><a href="#installing">Installing</a></li>
  <li class="toc-lv2"><a href="#prerequisites">Prerequisites</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#software">Software</a></li>
   <li class="toc-lv3"><a href="#services">Services</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#configuration">Configuration</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#fog">Fog</a></li>
   <li class="toc-lv3"><a href="#ec2">EC2</a></li>
   <li class="toc-lv3"><a href="#provisioning">Provisioning</a></li>
   <li class="toc-lv3"><a href="#puppet-master">puppet master</a></li>
   <li class="toc-lv3"><a href="#certificates-and-keys">Certificates and Keys</a></li>
   <li class="toc-lv3"><a href="#installer-configuration">Installer Configuration</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#usage">Usage</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#puppet-node-create">puppet node create</a></li>
   <li class="toc-lv3"><a href="#puppet-node-install">puppet node install</a></li>
   <li class="toc-lv3"><a href="#puppet-node-classify">puppet node classify</a></li>
   <li class="toc-lv3"><a href="#puppet-node-init">puppet node init</a></li>
   <li class="toc-lv3"><a href="#puppet-node-bootstrap">puppet node bootstrap</a></li>
   <li class="toc-lv3"><a href="#puppet-node-terminate">puppet node terminate</a></li>
</ol></li>
</ol>
                  
                                        <!-- New Ads are inserted here -->
		  			<div id="bannerImage" style="display:block;">&nbsp;</div>
                  </div>
            </div>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers & consultants</a>
                  <p>  
		<h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>
              
				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save"; id="mktForm_1013" name="mktForm_1013">
				
				<label>Email Address:</label><span class='mktInput'><input class='mktFormText mktFormEmail' name="Email" id="Email" type='text' value="" maxlength='255'  /><span class='mktFormMsg'></span></span>
				
				<input id='mktFrmSubmit' type='submit' class='btn' style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value='Subscribe' name='submitButton' onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' />
				
				<input style='display: none;' id='mktFrmReset' type='reset' value='Clear' name='resetButton' onclick='formReset(document.getElementById("mktForm_1013")); return false;' />
	
				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />
				
				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&kw={keyword}"; />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>
				
				<script type="text/javascript">
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				</script>
              
<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>
                
                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>	

              </ul>
		<p>
		              		<h4>Follow us&#8230;</h4>

              		<ul class="followus">

					
			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0"></a></li>
					</ul>

              	</p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>Written by James Turnbull, <a href="http://apress.com/book/view/1590599780" rel="nofollow">Pulling Strings with Puppet</a> is the first book to introduce the powerful Puppet system administration tool. </p>
              <a href="http://apress.com/book/view/1590599780" rel="nofollow"><img src="http://www.puppetlabs.com/images/book.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &copy; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">411 NW Park Street</span>
           /
           <span class="locality">Portland</span>, 
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>          
      </div>
    </div>
    <script src="http://munchkin.marketo.net/munchkin.js" type="text/javascript"></script> <script>mktoMunchkin("307-QLA-991");</script> 
    
  	<script type="text/javascript">Cufon.now();</script>
  	<style type="text/css">h1, h2, .btn { visibility : visible; }</style>

	</body>
</html>        
